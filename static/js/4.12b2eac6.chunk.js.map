{"version":3,"sources":["assets/empty.svg","components/EmptyProduct.js","components/CardProduct.js","pages/Home.js"],"names":["EmptyProduct","props","useState","message","setMessage","useEffect","className","src","empty_image","alt","CardProduct","product","setProduct","stock","productStock","setProductStock","showNotification","setshowNotification","carts","useContext","Cart","State","found_cart_product","find","cart_product","id","quantity","toggleNotification","formatNumber","Intl","NumberFormat","style","currency","onClick","picture","name","format","price","priceDiscount","description","addToCart","Home","products","setProducts","length","isProductsAvailable","setIsProductsAvailable","cartDispatch","Dispatch","fetch","headers","then","response","json","response_products","map","type","ADD_TO_CART","payload"],"mappings":"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","file":"static/js/4.12b2eac6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/empty.de26d59b.svg\";","import React, { useEffect, useState } from 'react'\n\nimport empty_image from '../assets/empty.svg'\n\nconst EmptyProduct = (props) => {\n\tconst [message, setMessage] = useState('No products available.')\n\n\tuseEffect(() => {\n\t\tif (props.message) setMessage(props.message)\n\t}, [props.message])\n\n\treturn (\n\t\t<div className=\"empty-container\">\n\t\t\t<img src={ empty_image } alt=\"Empty Products\" className=\"h-48\"/>\n\t\t\t<p className=\"mt-6 text-gray-500\">{ message }</p>\n\t\t</div>\n\t)\n}\n\nexport default EmptyProduct","import React, { useEffect, useState, useContext } from 'react'\n\nimport { ShoppingCartIcon } from '@heroicons/react/outline'\n\nimport { Cart } from \"../store/cart\"\n\nconst CardProduct = (props) => {\n\tconst [product, setProduct] = useState({})\n\tconst [productStock, setProductStock] = useState(product.stock)\n\tconst [showNotification, setshowNotification] = useState(false)\n\n\tconst carts = useContext(Cart.State)\n\n\tuseEffect(() => {\n\t\tif (props.product) setProduct(props.product)\n\t}, [props.product])\n\n\tuseEffect(() => {\n\t\tlet found_cart_product = carts.find(cart_product => cart_product.id === product.id)\n\n\t\tif (found_cart_product) setProductStock(product.stock - found_cart_product.quantity)\n\t\telse setProductStock(product.stock)\n\t}, [carts, product.stock, product.id])\n\n\tconst toggleNotification = () => {\n\t\tsetshowNotification(!showNotification)\n\t}\n\n\tconst onAddToCart = () => {\n\t\tif (productStock > 0) {\n\t\t\tprops.addToCart()\n\t\t} else {\n\t\t\tif (!showNotification) toggleNotification()\n\t\t}\n\t}\n\n\tconst formatNumber = new Intl.NumberFormat('id-ID', {\n\t\tstyle: 'currency',\n\t\tcurrency: 'IDR'\n\t})\n\n\treturn (\n\t\t<>\n\t\t\t{showNotification ?\n\t\t\t\t<div className=\"fixed bottom-5 right-5 w-full px-6 py-3 shadow-2xl flex flex-col items-center border-t\n        sm:w-auto sm:m-4 sm:rounded-lg sm:flex-row sm:border bg-red-600 border-red-600 text-white\">\n\t\t\t\t\t<div> Sorry, the product is out of stock.</div>\n\t\t\t\t\t<div className=\"flex mt-2 sm:mt-0 sm:ml-4\">\n\t\t\t\t\t\t<button className=\"px-3 py-2 hover:bg-red-700 transition ease-in-out duration-300\"\n\t\t\t\t\t\t\tonClick={toggleNotification}> Dismiss </button>\n\t\t\t\t\t</div>\n\t\t\t\t</div> : ''\n\t\t\t}\n\t\t\t<div className=\"bg-white p-6 rounded-lg\">\n\t\t\t\t<img className=\"lg:h-60 xl:h-56 md:h-64 sm:h-72 xs:h-72 h-72  rounded w-full object-cover object-center mb-6\" src={product.picture} alt={product.name} />\n\t\t\t\t<h1 className=\"text-gray-900 text-xl font-bold\">{product.name}</h1>\n\t\t\t\t<div className=\"my-4\">\n\t\t\t\t\t<span className=\"text-gray-500 text-sm line-through\">{formatNumber.format(product.price)}</span> &nbsp;\n\t\t\t\t\t<span className=\"text-indigo-500 title-font font-bold\">{formatNumber.format(product.priceDiscount)}</span>\n\t\t\t\t</div>\n\t\t\t\t<p className=\"text-sm mb-4 text-gray-500\">Stock: x{productStock}</p>\n\t\t\t\t<p className=\"text-base text-justify line-clamp-none xl:line-clamp-3 mb-4\">{product.description}</p>\n\t\t\t\t<button className=\"bg-yellow-400 hover:bg-yellow-500 w-full text-white font-bold py-2 px-4 rounded\"\n\t\t\t\t\tonClick={onAddToCart}>\n\t\t\t\t\t<ShoppingCartIcon className=\"h-6 w-6 text-white hover:text-yellow-100 inline-block\" />\n\t\t\t\t\t&nbsp; Add to Cart\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default CardProduct","import { useEffect, useState, useContext } from 'react'\n\nimport { Cart, ADD_TO_CART } from \"../store/cart\"\n\nimport EmptyProduct from '../components/EmptyProduct'\nimport CardProduct from '../components/CardProduct'\n\nconst Home = () => {\n\tconst [products, setProducts] = useState([])\n\tconst [isProductsAvailable, setIsProductsAvailable] = useState(products && products.length > 0)\n\tconst [showNotification, setshowNotification] = useState(false)\n\n\tconst carts = useContext(Cart.State)\n\tconst cartDispatch = useContext(Cart.Dispatch)\n\n\tconst toggleNotification = () => {\n\t\tsetshowNotification(!showNotification)\n\t}\n\n\tconst addToCart = (product) => {\n\t\tcartDispatch({ type: ADD_TO_CART, payload: product })\n\t\tif (!showNotification) toggleNotification()\n\t}\n\n\t// function to fetch products\n\tconst fetchProducts = () => {\n\t\tfetch('/data/products.json', {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Accept': 'application/json'\n\t\t\t}\n\t\t})\n\t\t\t.then(function (response) {\n\t\t\t\treturn response.json()\n\t\t\t})\n\t\t\t.then(function (response_products) {\n\t\t\t\tsetProducts(response_products)\n\t\t\t\tsetIsProductsAvailable(response_products && response_products.length > 0)\n\t\t\t})\n\t}\n\n\t// fetch products when ComponentDidMount\n\tuseEffect(() => {\n\t\tfetchProducts()\n\t}, [])\n\n\treturn (\n\t\t<>\n\t\t\t{ showNotification ?\n\t\t\t<div className=\"fixed bottom-5 right-5 w-full px-6 py-3 shadow-2xl flex flex-col items-center border-t\n        sm:w-auto sm:m-4 sm:rounded-lg sm:flex-row sm:border bg-green-600 border-green-600 text-white\">\n\t\t\t\t<div> 1 Product added to cart. You have {carts.length} products in cart.</div>\n\t\t\t\t<div className=\"flex mt-2 sm:mt-0 sm:ml-4\">\n\t\t\t\t\t<button className=\"px-3 py-2 hover:bg-green-700 transition ease-in-out duration-300\"\n\t\t\t\t\t\tonClick={toggleNotification}> Dismiss </button>\n\t\t\t\t</div>\n\t\t\t</div> : ''\n\t\t\t}\n\t\t\t{\n\t\t\t\tisProductsAvailable ?\n\t\t\t\t\t<div className=\"px-8 pb-8 pt-24\">\n\t\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4\">\n\t\t\t\t\t\t\t{products.map(product =>\n\t\t\t\t\t\t\t\t<CardProduct product={product} key={product.id} addToCart={() => addToCart(product)} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t:\n\t\t\t\t\t<EmptyProduct message=\"No available products.\" />\n\t\t\t}\n\t\t</>\n\t)\n}\n\nexport default Home"],"sourceRoot":""}